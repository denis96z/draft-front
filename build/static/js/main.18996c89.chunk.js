(this["webpackJsonpgodraft-front"]=this["webpackJsonpgodraft-front"]||[]).push([[0],{175:function(e,t,n){e.exports=n(525)},525:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(4),c=n(78),o=n(69),l=n(35),i=n(538),u=n(530),s=n(527),m=n(121),d=n(533),f=Object(a.createContext)({});function p(){return Object(a.useContext)(f)}var v=n(153);function h(e){var t=e.name;return e.scheme&&e.scheme.project&&(t="".concat(e.scheme.project).concat(t)),t}function E(){var e=p().updateState;return a.useCallback((function(t){e("search",""),window.location.hash=t}),[e])}var g={};function y(e,t){void 0===g[e]&&(g[e]={}),void 0===g[e][t]&&(g[e][t]=Object(v.match)(t,e,{pre:'<span style="background: yellow;">',post:"</span>"}));var n=g[e][t];return n?a.createElement("span",{dangerouslySetInnerHTML:{__html:n.rendered}}):null}function b(e,t){var n;return"#".concat(e.id).concat(t?":".concat((null===(n=t.scheme)||void 0===n?void 0:n.project)||"").concat(t.name):"")}function j(e,t,n){return"".concat(b(e,t),"?case=").concat(n.name)}function w(e){var t=window.location.hash.match(/^#?([\w-]+)(?::([^?]+))?(?:\?(.*))?/i)||[],n=Object(l.a)(t,4),a=(n[0],n[1]),r=n[2],c=n[3];return{activeProject:e.find((function(e){return e.id===a}))||e[0],activeEndpoint:r||"",queryString:c||""}}function k(){var e=p(),t=e.state,n=t.search,r=t.activeProject,c=t.sitemap,o=e.updateState,l=a.useCallback((function(e){o("search",e.target.value)}),[n]),i=E();return a.createElement(s.a.Header,{className:"header"},a.createElement(s.a,null,a.createElement(s.a.Sider,{width:150},a.createElement(S,null)),a.createElement(s.a.Content,null,a.createElement(m.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:r&&[r.id]},c.map((function(e){return a.createElement(m.a.Item,{key:e.id,onClick:function(){i(b(e))}},e.name)})))),a.createElement(s.a.Sider,{width:200},a.createElement(d.a.Search,{placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043c\u0435\u0442\u043e\u0434\u0430\u043c",value:n,onChange:l}))))}function S(){return a.createElement("img",{height:"32",src:"https://img.imgsmail.ru/pm/1.0.3/blocks/ph-logo/img/logotype-mail.ru@2x.png"})}var O=n(528);function C(){var e=p(),t=e.state,n=t.activeProject,r=t.activeEndpoint,c=e.updateState,o=a.useCallback((function(e){c("activeEndpoint",e.key)}),[c]),l=(null===n||void 0===n?void 0:n.entries.flatMap((function(e){return e.entries})))||[],i=[],u=l.map((function e(t){if("G"===t.type)return i.push(t.name),a.createElement(m.a.SubMenu,{key:t.name,title:t.name},t.entries.map(e));if("E"===t.type)return a.createElement(m.a.Item,{key:h(t),title:t.scheme.description||t.scheme.name},t.scheme.name);if("HR"===t.type)return a.createElement(O.a,null);throw"not supproted: ".concat(t.type)}));return a.createElement(m.a,{mode:"inline",defaultOpenKeys:i,defaultSelectedKeys:[r],style:{height:"100%",borderRight:0},onSelect:o},u)}var _=n(534),P=n(532),x=n(529),I=n(539);function R(e){var t=e.name,n=e.badge,r="ok"===t?"success":"error",c=t.toUpperCase(),o=n?{borderRadius:5,fontSize:"50%",padding:"0 4px",lineHeight:"14px",verticalAlign:"super"}:void 0;return a.createElement(I.a,{color:r,style:o},c)}var q=n(531),N=n(536),F=n(535),T={processing:102,ok:200,accepted:202,non_authoritative:203,partial:206,move:301,notmodified:304,invalid:400,payment_required:402,denied:403,notfound:404,unacceptable:406,timeout:408,conflict:409,expectation_failed:417,unprocessable:422,locked:423,failed_dependency:424,upgrade_required:426,many_requests:429,retry_with:449,unavailable_for_legal_reasons:451,fail:500,not_implemented:501,unavaliable:503,insufficient:507},A=n(159);n(454);function M(e){var t=a.useRef(null),n=e.value;return a.useEffect((function(){A.highlightBlock(t.current)}),[n]),a.createElement("pre",null,a.createElement("code",{ref:t,className:"javascript",dangerouslySetInnerHTML:{__html:n}}))}function H(e){var t=e.project,n=e.entry,r=e.value,c=E(),o=n.scheme.detail[r.status],i=Object.entries(r.params).map((function(e){var t=Object(l.a)(e,2),n=t[0],r=t[1],c=o.request.params[n],i="".concat(n).concat(c.required?"":"?");return a.createElement("div",{key:n},a.createElement("div",null,"/* ",c.comment,". ",a.createElement("b",null,L(c))," */"),a.createElement("b",null,i),"=","boolean"===typeof r?JSON.stringify(r):r)})),u=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null==n||"object"!==typeof n)return JSON.stringify(n);var r=a+"  ";return"{\n".concat(Object.entries(n).map((function(n){var c=Object(l.a)(n,2),o=c[0],i=c[1],u=t[o],s=u&&u.nested;if(s&&s.length){var m=s.reduce((function(e,t){return e[t.name]=t,e}),{});i=e(m,i,a+a)}else i=JSON.stringify(i);return["".concat(r,"/* ").concat(u.comment,". <b>").concat(L(u),"</b> */"),"".concat(r,'"').concat(o,'": ').concat(i)].join("\n")})).join(",\n"),"\n").concat(a,"}")}(o.response.body,r.body,"  "),s="ok"===r.status,m=j(t,n,r);return a.createElement(q.a,{style:s?{}:{borderColor:"#ffa39e"},title:a.createElement(a.Fragment,null,a.createElement("div",{id:m,style:{position:"relative",top:-20}}),a.createElement("span",{style:{position:"absolute",right:20,cursor:"pointer"},onClick:function(){c(m),function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var n=document.getSelection(),a=[];if(n)for(var r=0;r<(n.rangeCount||0);r++)a.push(n.getRangeAt(r));if(t.select(),document.execCommand("copy"),document.body.removeChild(t),a.length){var c=document.getSelection();c&&(c.removeAllRanges(),a.forEach((function(e){c.addRange(e)})))}}(window.location.toString()),N.a.success("Copied",.4)}},a.createElement(F.a,null)),a.createElement("a",{href:m},r.name),a.createElement("br",null),a.createElement(R,{name:r.status}),a.createElement(I.a,null,r.method),a.createElement("span",null," \u2192 \xa0",n.name))},r.description&&a.createElement(a.Fragment,null,a.createElement("div",null,r.description),a.createElement(O.a,null)),a.createElement("div",{style:{background:"#fafafa",margin:-24,padding:24}},i),a.createElement("br",null),a.createElement("br",null),a.createElement("div",null,a.createElement(M,{value:"{\n"+'  "status": '.concat(T[r.status],",\n")+'  "body": '.concat(u,"\n}")})))}function L(e){var t=e.type,n=e.meta_type,a=e.enum;switch(t){case"struct":return"object";case"slice":return"".concat(a?"Enum<".concat(a.join(" | "),">"):n,"[]")}return t}var J=n(166),z=n.n(J);function B(e){var t=e.id,n=p().state.activeProject,r=a.useMemo((function(){var e=null;return n&&n.entries.some((function n(a){return h(a)===t?(e=a,!0):a.entries.some(n)})),e}),[n,t]);if(!r)return a.createElement(i.a,{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430: \xab".concat(t,"\xbb \u2014 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")});var c=r.scheme;return a.createElement(a.Fragment,null,a.createElement(_.a,{style:{marginBottom:20}},a.createElement(_.a.Item,null,null===n||void 0===n?void 0:n.name),c.project&&a.createElement(_.a.Item,null,c.project),a.createElement(_.a.Item,null,c.name)),c.description&&a.createElement(P.a,{style:{fontSize:"120%"}},a.createElement(z.a,null,c.description)),c.cases.length>1&&a.createElement("ul",null,c.cases.map((function(e,t){return a.createElement("li",{key:t},a.createElement("a",{href:j(n,r,e)},e.name),"\xa0",a.createElement(R,{name:e.status,badge:!0}))}))),a.createElement(x.a,{direction:"vertical",style:{width:"100%"}},c.cases.map((function(e,t){return a.createElement(H,{key:t,project:n,entry:r,value:e})}))))}var G=n(537);function K(){var e=p().state,t=e.search,n=e.activeProject,r=(null===n||void 0===n?void 0:n.entries.flatMap((function(e){return e.entries})))||[],c=!0,o=r.map((function e(r){if("G"===r.type)return a.createElement(G.a.TreeNode,{key:r.name,title:r.name},r.entries.map(e));if("E"===r.type){var o=y(r.name,t),l=y(r.scheme.name,t);return null===o&&null===l?null:(c=!1,a.createElement(G.a.TreeNode,{key:b(n,r),title:a.createElement(a.Fragment,null,a.createElement("a",null,o||r.name),a.createElement("span",null," \u2014 ",l||r.scheme.name))}))}throw"not supproted: ".concat(r.type)})),l=E(),u=a.useCallback((function(e){l(e.join(""))}),[]);return a.createElement(q.a,{title:"\u0412\u0441\u0435 \u043c\u0435\u0442\u043e\u0434\u044b"},c?a.createElement(i.a,{status:"info",title:a.createElement(a.Fragment,null,"\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \xab",a.createElement("b",null,t),"\xbb \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")}):a.createElement(G.a,{showLine:!0,onSelect:u,defaultExpandAll:!0},o))}function U(){var e=p().state,t=e.search,n=(e.activeProject,e.activeEndpoint);return a.createElement(s.a,{style:{height:"100%"}},a.createElement(k,null),a.createElement(s.a,null,a.createElement(s.a.Sider,{className:"site-layout-background"},a.createElement(C,null)),a.createElement(s.a.Content,{className:"site-layout-background",style:{margin:20,minHeight:280}},!t&&n?a.createElement(B,{id:n}):a.createElement(K,null))))}var W={};function D(e){var t=a.useState(0),n=Object(l.a)(t,2),r=n[0],c=n[1],u=a.useCallback((function(){c(r+1)}),[r]);if(!e.sitemap)return a.createElement(i.a,{status:"error",title:"Sitemap not defined"});var s=function(e,t){return e.reduce((function(e,n){var a=[],r=!0;return n.entries.forEach((function(e){if("string"===typeof e){var n=W[e];void 0===n?(r=!1,W[e]=null,fetch(e).then((function(e){return e.json()})).then((function(n){W[e]=n,t()}))):null===n?r=!1:a.push(n)}else a.push(e)})),r&&e.push(Object(o.a)({},n,{entries:a})),e}),[])}(e.sitemap,u);return a.createElement(V,{key:r,activeProject:s.find((function(t){return t.id===e.activeProject})),sitemap:s})}function V(e){var t,n,r=e.sitemap,i=e.activeProject,u=a.useMemo((function(){var e=Object(o.a)({search:"",activeProject:i,activeEndpoint:"",sitemap:r},w(r));return e.search=new URLSearchParams(e.queryString).get("search")||"",e}),[]),s=a.useState(u),m=Object(l.a)(s,2),d=m[0],p=m[1];return function(e){a.useEffect((function(){var t=e.activeProject,n=e.activeEndpoint,a=e.queryString,r=e.search,c=setTimeout((function(){var e=t?t.id:"",c=null===t||void 0===t?void 0:t.name;n&&(e+=":".concat(n),c+=n),r?e+="?search=".concat(r):a&&!a.includes("search=")&&(e+="?".concat(a)),window.location.hash=e,c&&(window.document.title=c)}),250);return function(){clearTimeout(c)}}),[window.location.hash,e])}(d),t=function(){p(Object(o.a)({},d,{},w(r)))},n=[d,r],a.useEffect((function(){return window.addEventListener("hashchange",t),function(){window.removeEventListener("hashchange",t)}}),n),function(){var e=a.useRef(!0);a.useEffect((function(){var t=document.querySelector('[id="'.concat(decodeURIComponent(window.location.hash),'"]'));requestAnimationFrame((function(){t&&t.scrollIntoView({behavior:e.current?"auto":"smooth"}),e.current=!1}))}),[window.location.hash])}(),a.createElement(f.Provider,{value:{state:d,updateState:function(e,t){p(Object(o.a)({},d,Object(c.a)({},e,t)))}}},r.length?a.createElement(U,null):a.createElement($,null))}function $(){return a.createElement("div",{style:{display:"flex",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"}},a.createElement(u.a,{size:"large"}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(524);Object(r.render)(a.createElement(D,Object(globalThis.GODRAFT_CONFIG)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.18996c89.chunk.js.map