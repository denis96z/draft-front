{"version":3,"sources":["store/store.ts","util.tsx","ui/Layout/Header.tsx","ui/Layout/LeftMenu.tsx","ui/Loading/Loading.tsx","ui/Status/Status.tsx","rpc.ts","ui/CodeHighlight/CodeHighlight.tsx","ui/Endpoint/EndpointCase.tsx","ui/Endpoint/Endpoint.tsx","ui/Endpoint/EndpointAll.tsx","ui/Layout/Layout.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Store","createContext","useAppStore","useContext","useAppState","state","getGroupEntryKey","entry","key","name","scheme","project","useNav","updateState","React","val","search","queryString","window","location","hash","fuzzyMemo","fuzzyHL","value","pattern","fuzzyMatch","pre","post","result","dangerouslySetInnerHTML","__html","rendered","getBaseURL","group","id","getCaseURL","c","rDocLocation","parseHistoryParams","checkPath","parsed","pathname","match","history","pushState","activeEndpoint","endpoint","activeGroup","groups","Object","keys","toMapById","list","reduce","map","item","Header","handleSearch","evt","target","nav","className","Sider","width","Logo","Content","theme","mode","defaultSelectedKeys","values","Item","onClick","Search","placeholder","onChange","height","src","LeftMenu","activeGroupEntries","handleSelect","param","rootEntries","flatMap","r","entries","openKeys","menuItems","render","e","idx","type","push","SubMenu","title","description","defaultOpenKeys","style","borderRight","onSelect","Loading","display","alignItems","justifyContent","size","Status","badge","color","status","toUpperCase","borderRadius","fontSize","padding","lineHeight","verticalAlign","RPC_STATUS_TO_CODE","CodeHighlight","props","codeRef","hljs","current","ref","EndpointCase","accessRights","access","extra","activeAccess","setActiveAccess","detail","headers","reflect","nested","renderParamsItem","renderHeaders","params","base","concat","renderParams","request","body","renderJSONObject","raw","ind","JSON","stringify","nind","refVal","refNested","length","nref","comment","getRefType","join","response","isOK","href","borderColor","el","document","createElement","setAttribute","position","left","appendChild","selection","getSelection","currentRanges","i","rangeCount","getRangeAt","select","execCommand","removeChild","removeAllRanges","forEach","range","addRange","copyToClipboard","toString","message","success","LinkOutlined","method","EndpointURL","Description","RequestSesion","bg","AccessSelector","active","children","background","meta_type","ev","enum","sep","skey","required","projects","hosts","activeHost","setActiveHost","host","host_rc","host_dev","includes","menu","v","selector","overlay","indent","marked","replace","split","line","m","RegExp","Endpoint","fastEndpointIndex","some","find","marginBottom","cases","direction","EndpointAll","isEmpty","nodes","TreeNode","descr","showLine","defaultExpandAll","AppLayout","loading","content","margin","minHeight","groupEntryCache","App","config","active_group","rights","AppReady","console","warn","handle","deps","setState","store","arguments","pid","setTimeout","clearTimeout","useHistory","addEventListener","removeEventListener","rev","setRev","forceUpdate","cache","fetch","then","json","next","useGroupEntryAutoload","firstScroll","elem","querySelector","decodeURIComponent","requestAnimationFrame","scrollIntoView","behavior","useAutoScroll","Provider","Boolean","hostname","globalThis","GODRAFT_CONFIG","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.a1d104ac.chunk.js","sourcesContent":["import { createContext, useContext } from 'react';\nimport { AppStore } from '../typings';\n\nexport const Store = createContext({} as AppStore);\n\nexport function useAppStore() {\n\treturn useContext(Store);\n}\n\nexport function useAppState() {\n\treturn useAppStore().state;\n}\n","import * as React from 'react';\nimport { SchemeCase, AppState, GroupEntry, GroupConfig } from './typings';\nimport { MatchResult, match as fuzzyMatch } from 'fuzzy';\nimport { useAppStore } from './store/store';\n\nexport function getGroupEntryKey(entry: GroupEntry) {\n\tlet key = entry.name;\n\t\n\tif (entry.scheme && entry.scheme.project) {\n\t\tkey = `${entry.scheme.project}${key}`;\n\t}\n\n\treturn key;\n}\n\nexport function copyToClipboard(val: string) {\n\tconst el = document.createElement('textarea');\n\tel.value = val;\n\tel.setAttribute('readonly', '');\n\tel.style.position = 'absolute';\n\tel.style.left = '-9999px';\n\t\n\tdocument.body.appendChild(el);\n\n\tconst selection = document.getSelection()\n\tconst currentRanges = [] as Range[];\n\n\tif (selection) {\n\t\tfor (let i = 0; i < (selection.rangeCount || 0); i++) {\n\t\t\tcurrentRanges.push(selection.getRangeAt(i));\n\t\t}\n\t}\n\n\tel.select();\n\tdocument.execCommand('copy');\n\tdocument.body.removeChild(el);\n\t\n\tif (currentRanges.length) { \n\t\tconst selection = document.getSelection()\n\t\tif (selection) {\n\t\t\tselection.removeAllRanges();\n\t\t\tcurrentRanges.forEach(range => {\n\t\t\t\tselection.addRange(range);\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport function useNav() {\n\tconst { updateState } = useAppStore();\n\tconst nav = React.useCallback((val) => {\n\t\tupdateState({\n\t\t\tsearch: '',\n\t\t\tqueryString: '',\t\n\t\t})\n\t\twindow.location.hash = val;\n\t}, [updateState]);\n\t\n\treturn nav;\n}\n\nconst fuzzyMemo = {} as {\n\t[value:string]: {\n\t\t[pattern:string]: MatchResult;\n\t}\n};\n\nexport function fuzzyHL(value: string, pattern: string) {\n\tif (fuzzyMemo[value] === void 0) {\n\t\tfuzzyMemo[value] = {};\n\t}\n\n\tif (fuzzyMemo[value][pattern] === void 0) {\n\t\tfuzzyMemo[value][pattern] = fuzzyMatch(pattern, value, {\n\t\t\tpre: '<span style=\"background: yellow;\">',\n\t\t\tpost: '</span>',\n\t\t});\n\t}\n\n\tconst result = fuzzyMemo[value][pattern];\n\treturn result ? <span dangerouslySetInnerHTML={{__html: result.rendered}}/> : null;\n}\n\nexport function getBaseURL(group: GroupConfig, entry?: GroupEntry) {\n\treturn `#${group.id}${entry ? `:${entry.scheme?.project || ''}${entry.name}` : ``}`;\n}\n\nexport function getCaseURL(group: GroupConfig, entry: GroupEntry, c: SchemeCase) {\n\treturn `${getBaseURL(group, entry)}?case=${c.name}`;\n}\n\nconst rDocLocation = /^\\/godraft:doc[a-z]+(\\/api\\/[^?#]+)/;\n\nexport function parseHistoryParams(state: AppState, checkPath?: boolean) {\n\tif (checkPath) {\n\t\tconst parsed = window.location.pathname.match(rDocLocation);\n\t\tif (parsed) {\n\t\t\twindow.history.pushState(null, '', '/godraft:docs/');\n\t\t\treturn {\n\t\t\t\tactiveEndpoint: parsed[1],\n\t\t\t};\n\t\t}\n\t}\n\n\n\tconst [\n\t\t_,\n\t\tid,\n\t\tendpoint,\n\t\tqueryString,\n\t] = window.location.hash.match(/^#?([\\w-]+)(?::([^?]+))?(?:\\?(.*))?/i) || [];\n\n\treturn {\n\t\tactiveGroup: state.groups[id] ? id : Object.keys(state.groups)[0],\n\t\tactiveEndpoint: endpoint || '',\n\t\tqueryString: queryString || '',\n\t};\n}\n\nexport function toMapById<T>(list: {[id:string]: any}[]): T {\n\treturn list.reduce((map, item) => {\n\t\tmap[item.id] = item;\n\t\treturn map;\n\t}, {}) as T;\n}\n","import * as React from 'react';\nimport { Layout, Menu, Input } from 'antd';\nimport { useAppStore } from '../../store/store';\nimport { useNav, getBaseURL } from '../../util';\n\nexport function Header() {\n\tconst {\n\t\tstate: {\n\t\t\tsearch,\n\t\t\tactiveGroup,\n\t\t\tgroups,\n\t\t},\n\t\tupdateState,\n\t} = useAppStore();\n\tconst handleSearch = React.useCallback((evt: React.ChangeEvent<HTMLInputElement>) => {\n\t\tupdateState('search', evt.target.value);\n\t}, [updateState]);\n\tconst nav = useNav();\n\n\treturn (\n\t\t<Layout.Header className=\"header\">\n\t\t\t<Layout>\n\t\t\t\t<Layout.Sider width={150}>\n\t\t\t\t\t<Logo/>\n\t\t\t\t</Layout.Sider>\n\t\t\t\t\n\t\t\t\t<Layout.Content>\n\t\t\t\t\t<Menu\n\t\t\t\t\t\ttheme=\"dark\"\n\t\t\t\t\t\tmode=\"horizontal\"\n\t\t\t\t\t\tdefaultSelectedKeys={activeGroup ? [activeGroup] : void 0}\n\t\t\t\t\t>{\n\t\t\t\t\t\tObject.values(groups).map((group) => (\n\t\t\t\t\t\t\t<Menu.Item\n\t\t\t\t\t\t\t\tkey={group!.id}\n\t\t\t\t\t\t\t\tonClick={() => { nav(getBaseURL(group!)); }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{group!.name}\n\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t))\n\t\t\t\t\t}</Menu>\n\t\t\t\t</Layout.Content>\n\n\t\t\t\t<Layout.Sider width={200}>\n\t\t\t\t\t<Input.Search\n\t\t\t\t\t\tplaceholder=\"Поиск по методам\"\n\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\tonChange={handleSearch}\n\t\t\t\t\t/>\n\t\t\t\t</Layout.Sider>\n\t\t\t</Layout>\n\t\t</Layout.Header>\n\t);\n}\n\nfunction Logo() {\n\treturn (\n\t\t<img\n\t\t\theight=\"32\"\n\t\t\tsrc=\"https://img.imgsmail.ru/pm/1.0.3/blocks/ph-logo/img/logotype-mail.ru@2x.png\"\n\t\t/>\n\t);\n}\n","import * as React from 'react';\nimport { Menu, Divider } from 'antd';\nimport { SelectParam } from 'antd/lib/menu';\nimport { useAppStore } from '../../store/store';\nimport { getGroupEntryKey } from '../../util';\n\nexport function LeftMenu() {\n\tconst {\n\t\tstate: {\n\t\t\tactiveGroupEntries,\n\t\t\tactiveEndpoint,\n\t\t},\n\t\tupdateState,\n\t} = useAppStore();\n\tconst handleSelect = React.useCallback((param: SelectParam) => {\n\t\tupdateState({\n\t\t\tsearch: '',\n\t\t\tqueryString: '',\n\t\t\tactiveEndpoint: param.key,\n\t\t});\n\t}, [updateState]);\n\n\tconst rootEntries = activeGroupEntries.flatMap(r => r.entries) || [];\n\tconst openKeys = [] as string[];\n\t\n\tconst menuItems = rootEntries.map(function render(e, idx) {\n\t\tif (e.type === 'G') {\n\t\t\topenKeys.push(`group-${idx}`);\n\n\t\t\treturn (\n\t\t\t\t<Menu.SubMenu key={`group-${idx}`} title={e.name}>\n\t\t\t\t\t{e.entries.map(render)}\n\t\t\t\t</Menu.SubMenu>\n\t\t\t);\n\t\t} else if (e.type === 'E') {\n\t\t\treturn (\n\t\t\t\t<Menu.Item\n\t\t\t\t\tkey={getGroupEntryKey(e)}\n\t\t\t\t\ttitle={e.scheme!.description || e.scheme!.name}\n\t\t\t\t>\n\t\t\t\t\t{e.scheme!.name}\n\t\t\t\t</Menu.Item>\n\t\t\t);\n\t\t} else if (e.type === 'HR') {\n\t\t\treturn <Divider />;\n\t\t} else {\n\t\t\tthrow `not supproted: ${e.type}`;\n\t\t}\n\t});\n\n\treturn (\n\t\t<Menu\n\t\t\tmode=\"inline\"\n\t\t\tdefaultOpenKeys={openKeys}\n\t\t\tdefaultSelectedKeys={activeEndpoint ? [activeEndpoint] : void 0}\n\t\t\tstyle={{ height: '100%', borderRight: 0 }}\n\t\t\tonSelect={handleSelect}\n\t\t>\n\t\t\t{menuItems}\n\t\t</Menu>\n\t);\n}\n","\nimport * as React from 'react';\nimport { Spin } from 'antd';\n\nexport function Loading() {\n\treturn (\n\t\t<div style={{\n\t\t\tdisplay: 'flex',\n\t\t\twidth: '100%',\n\t\t\theight: '100%',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center',\n\t\t}}>\n\t\t\t<Spin size=\"large\"/>\n\t\t</div>\n\t);\n}\n","import * as React from 'react';\nimport { Tag } from 'antd';\n\nexport type StatusProps = {\n\tname: string;\n\tbadge?: boolean;\n};\n\nexport function Status({name, badge}: StatusProps) {\n\tconst color = name === 'ok' ? 'success' : 'error';\n\tconst status = name.toUpperCase();\n\tconst style = badge ? {\n\t\tborderRadius: 5,\n\t\tfontSize: '50%',\n\t\tpadding: '0 4px',\n    \tlineHeight: '14px',\n    \tverticalAlign: 'super',\n\t} : void 0;\n\n\treturn <Tag color={color} style={style}>{status}</Tag>;\n}\n","export const RPC_STATUS_TO_CODE: {\n\t[status:string]: number;\n} = {\n\t'processing': 102,\n\t'ok': 200,\n\t'accepted': 202,\n\t'non_authoritative': 203,\n\t'partial': 206,\n\t'move': 301,\n\t'notmodified': 304,\n\t'invalid': 400,\n\t'payment_required': 402,\n\t'denied': 403,\n\t'notfound': 404,\n\t'unacceptable': 406,\n\t'timeout': 408,\n\t'conflict': 409,\n\t'expectation_failed': 417,\n\t'unprocessable': 422,\n\t'locked': 423,\n\t'failed_dependency': 424,\n\t'upgrade_required': 426,\n\t'many_requests': 429,\n\t'retry_with': 449,\n\t'unavailable_for_legal_reasons': 451,\n\t'fail': 500,\n\t'not_implemented': 501,\n\t'unavaliable': 503,\n\t'insufficient': 507,\n};\n","import * as React from 'react';\nimport * as hljs from 'highlight.js';\nimport 'highlight.js/styles/tomorrow.css';\n\n// hljs.registerLanguage('js', jsLang);\n\nexport type CodeHighlightProps = {\n\tvalue: string;\n}\n\nexport function CodeHighlight(props: CodeHighlightProps) {\n\tconst codeRef = React.useRef(null as HTMLElement | null);\n\tconst {\n\t\tvalue,\n\t} = props;\n\n\tReact.useEffect(() => {\n\t\thljs.highlightBlock(codeRef.current as any);\n\t}, [value]);\n\n\treturn (\n\t\t<pre>\n\t\t\t<code\n\t\t\t\tref={codeRef}\n\t\t\t\tclassName=\"javascript\"\n\t\t\t\tdangerouslySetInnerHTML={{__html: value}}\n\t\t\t/>\n\t\t</pre>\n\t);\n}\n","import * as React from 'react';\nimport marked from 'marked';\nimport { Tag, Card, message, Dropdown, Menu, Badge } from 'antd';\nimport { LinkOutlined } from '@ant-design/icons';\nimport { Status } from '../Status/Status';\nimport { getCaseURL, copyToClipboard, useNav } from '../../util';\nimport { RPC_STATUS_TO_CODE } from '../../rpc';\nimport { SchemeCase, ReflectItemMap, ReflectItem, GroupEntry, GroupConfig, AccessConfig, AccessExtraConfig, AccessExtraItemValue } from '../../typings';\nimport { CodeHighlight } from '../CodeHighlight/CodeHighlight';\n\nimport './EndpointCase.css';\nimport { useAppState, useAppStore } from '../../store/store';\n\nexport type EndpointCaseProps = {\n\tgroup: GroupConfig;\n\tentry: GroupEntry;\n\tvalue: SchemeCase;\n};\n\nexport function EndpointCase(props: EndpointCaseProps) {\n\tconst {\n\t\tgroup,\n\t\tentry,\n\t\tvalue,\n\t} = props;\n\tconst {\n\t\tstate: {\n\t\t\taccessRights,\n\t\t},\n\t} = useAppStore();\n\tconst scheme = entry.scheme!;\n\tconst [activeAccess, setActiveAccess] = React.useState(accessRights[value.access]?.extra[0]);\n\tconst nav = useNav();\n\tconst detail = scheme.detail[value.status];\n\tconst headers = renderHeaders(activeAccess?.headers);\n\tconst params = renderParams(value.params, detail.request.params, activeAccess?.params);\n\tconst body = renderJSONObject(detail.response.body, value.body, '  ');\n\tconst isOK = value.status === 'ok';\n\tconst href = getCaseURL(group, entry, value);\n\n\treturn (\n\t\t<Card\n\t\t\tstyle={isOK ? {} : {borderColor: '#ffa39e'}}\n\t\t\ttitle={<>\n\t\t\t\t<div id={href} className=\"endpoint-case-hidden-anchor\"/>\n\t\t\t\t<span\n\t\t\t\t\tclassName=\"endpoint-case-copy-to-clipboard\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tnav(href);\n\t\t\t\t\t\tcopyToClipboard(window.location.toString());\n\t\t\t\t\t\tmessage.success('Copied', .4);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<LinkOutlined/>\n\t\t\t\t</span>\n\t\t\t\t<a href={href}>{value.name}</a><br/>\n\t\t\t\t<Status name={value.status}/>\n\t\t\t\t<Tag>{value.method}</Tag>\n\t\t\t\t<span> → &nbsp;<EndpointURL value={entry} /></span>\n\t\t\t</>}\n\t\t>\n\t\t\t{value.description && <Description value={value.description}/>}\n\n\t\t\t{headers && <RequestSesion\n\t\t\t\tbg=\"#f5f5f5\"\n\t\t\t\tname=\"request → headers\"\n\t\t\t\textra={<AccessSelector\n\t\t\t\t\ttype={value.access}\n\t\t\t\t\tactive={activeAccess}\n\t\t\t\t\tonSelect={setActiveAccess}\n\t\t\t\t/>}\n\t\t\t>\n\t\t\t\t{headers}\n\t\t\t</RequestSesion>}\n\n\t\t\t{params && <RequestSesion\n\t\t\t\tbg=\"#fafafa\"\n\t\t\t\tname=\"request → params\"\n\t\t\t\textra={!headers && <AccessSelector\n\t\t\t\t\ttype={value.access}\n\t\t\t\t\tactive={activeAccess}\n\t\t\t\t\tonSelect={setActiveAccess}\n\t\t\t\t/>}\n\t\t\t>\n\t\t\t\t{params}\n\t\t\t</RequestSesion>}\n\n\t\t\t<RequestSesion name=\"response\">\n\t\t\t\t<CodeHighlight value={``\n\t\t\t\t\t+ '{\\n'\n\t\t\t\t\t+ `  \"status\": ${RPC_STATUS_TO_CODE[value.status]},\\n`\n\t\t\t\t\t+ `  \"body\": ${body}`\n\t\t\t\t\t+ `\\n}`\n\t\t\t\t}/>\n\t\t\t</RequestSesion>\n\t\t</Card>\n\t);\n}\n\ntype RequestSesionProps = {\n\tbg?: string;\n\tname: string;\n\textra?: React.ReactNode;\n\tchildren: React.ReactNode;\n};\n\nfunction RequestSesion(props: RequestSesionProps) {\n\tconst {\n\t\tbg,\n\t\tname,\n\t\textra,\n\t\tchildren,\n\t} = props;\n\n\treturn (\n\t\t<div className=\"request-section\" style={{background: bg}}>\n\t\t\t{extra && <div className=\"request-section-extra\">{extra}</div>}\n\t\t\t<div className=\"request-section-label\">{name}</div>\n\t\t\t<div className=\"request-section-body\">{children}</div>\n\t\t</div>\n\t);\n}\n\ntype AccessSelectorProps = {\n\ttype: string;\n\tactive: AccessExtraConfig | undefined;\n\tonSelect: (item: AccessExtraConfig) => void;\n}\n\nfunction AccessSelector({type, active, onSelect}: AccessSelectorProps) {\n\tconst {\n\t\taccessRights,\n\t} = useAppState();\n\tconst access = accessRights[type];\n\t\n\tif (!access) {\n\t\treturn (\n\t\t\t<div className=\"access-selector-badge\">\n\t\t\t\t<Tag color=\"blue\">{type}</Tag>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn <div className=\"access-selector\">{access.extra.map((item) => \n\t\t<div\n\t\t\tclassName={`\n\t\t\t\taccess-selector-tab\n\t\t\t\t${item === active && `access-selector-tab-active`}\n\t\t\t`}\n\t\t\tkey={item.name}\n\t\t\tonClick={() => onSelect(item)}\n\t\t>\n\t\t\t{item.name}\n\t\t</div>\n\t)}</div>;\n}\n\nfunction renderJSONObject(ref: ReflectItemMap, raw: any, ind = '') {\n\tif (raw == null || typeof raw !== 'object') {\n\t\treturn JSON.stringify(raw);\n\t}\n\tconst nind = ind + '  ';\n\n\treturn `{\\n${Object.entries(raw).map(([key, val]) => {\n\t\tconst refVal = ref[key];\n\t\tconst refNested = refVal && refVal.nested;\n\n\t\tif (refNested && refNested.length) {\n\t\t\tconst nref = refNested.reduce((map, item) => {\n\t\t\t\tmap[item.name] = item;\n\t\t\t\treturn map;\n\t\t\t}, {} as ReflectItemMap);\n\t\t\tval = renderJSONObject(nref, val, ind + ind);\n\t\t} else {\n\t\t\tval = JSON.stringify(val, null, 2);\n\t\t}\n\n\t\treturn [\n\t\t\t`${nind}/* ${refVal.comment}. <b>${getRefType(refVal)}</b> */`,\n\t\t\t`${nind}\"${key}\": ${val}`,\n\t\t].join('\\n');\n\t}).join(',\\n')}\\n${ind}}`;\n}\n\nfunction getRefType({type, meta_type, enum:ev}: ReflectItem) {\n\tswitch (type) {\n\t\tcase 'map':\n\t\t\treturn `map[${ev ? `${ ev.join(' | ') }` : 'string'}]string`;\n\n\t\tcase 'struct':\n\t\t\treturn 'object';\n\n\t\tcase 'slice':\n\t\t\treturn `${ev ? `Enum<${ ev.join(' | ') }>` : meta_type}[]`;\n\t}\n\n\treturn type;\n}\n\nfunction renderHeaders(headers?: AccessExtraItemValue) {\n\tif (!headers || headers.value === null) {\n\t\treturn null;\n\t}\n\n\treturn headers.reflect.nested.map((item) => renderParamsItem(item.name, headers.value[item.name], item, ': '));\n}\n\nfunction renderParams(params: object, scheme: ReflectItemMap, extra?: AccessExtraItemValue) {\n\tif (params == null && extra && extra.value == null) {\n\t\treturn null;\n\t}\n\n\tconst base = Object.entries(Object(params)).map(([key, val]) => renderParamsItem(key, val, scheme[key]));\n\n\treturn (extra\n\t\t? extra.reflect.nested\n\t\t\t.map((item) => renderParamsItem(item.name, extra.value[item.name]!, item))\n\t\t\t.concat(base)\n\t\t: base\n\t);\n}\n\nfunction renderParamsItem(key: string, value: any, ref: ReflectItem, sep = '=') {\n\tconst skey = `${key}${ref.required ? '' : '?'}`;\n\t\n\treturn <div key={key}>\n\t\t<div>/* {ref.comment}. <b>{getRefType(ref)}</b> */</div>\n\t\t<b>{skey}</b>{sep}{typeof value === 'boolean' ? JSON.stringify(value) : value}\n\t</div>\n}\n\nfunction EndpointURL({value}: {value: GroupEntry}) {\n\tconst {projects} = useAppState();\n\tconst project = projects[value.scheme?.project!];\n\tconst hosts = [] as string[];\n\tlet [activeHost, setActiveHost] = React.useState('');\n\tlet host = null as JSX.Element | null;\n\n\tif (project) {\n\t\tproject.host && hosts.push(project.host);\n\t\tproject.host_rc && hosts.push(project.host_rc);\n\t\tproject.host_dev && hosts.push(project.host_dev);\n\t\t\n\t\tactiveHost = hosts.includes(activeHost) ? activeHost : hosts[0];\n\t\n\t\tif (hosts.length > 1) {\n\t\t\tconst menu = (\n\t\t\t\t<Menu onClick={({key}) => { setActiveHost(key); }}>{\n\t\t\t\t\thosts.map(v => <Menu.Item key={v}>{v}</Menu.Item>)\n\t\t\t\t}</Menu>\n\t\t\t);\n\t\t\tconst selector = (\n\t\t\t\t<Dropdown overlay={menu}>\n\t\t\t\t\t<span className=\"endpoint-case-host\">{activeHost}</span>\n\t\t\t\t</Dropdown>\n\t\t\t);\n\t\t\t\n\t\t\thost = <>https://{selector}</>;\n\t\t} else if (hosts.length) {\n\t\t\thost = <>https://{hosts[0]}</>;\n\t\t}\n\t}\n\n\treturn <span>{host}{value.name}</span>;\n}\n\nfunction Description({value}: {value: string}) {\n\tlet indent = null as RegExp | null | false;\n\tconst result = marked(\n\t\tvalue\n\t\t.replace(/^\\s*\\n/, '')\n\t\t.split('\\n')\n\t\t\t.map(line => {\n\t\t\t\tif (indent === null) {\n\t\t\t\t\tconst m = line.match(/^\\s+/);\n\t\t\t\t\tindent = m ? new RegExp(`^${m[0]}`) : false;\n\t\t\t\t}\n\n\t\t\t\treturn indent ? line.replace(indent!, '') : line;\n\t\t\t})\n\t\t\t.join('\\n')\n\t);\n\n\treturn <div className=\"endpoint-case-descr\" dangerouslySetInnerHTML={{__html: result}}/>;\n}\n","import * as React from 'react';\nimport { Result, Breadcrumb, Typography, Space } from 'antd';\nimport { useAppStore } from '../../store/store';\nimport { GroupEntry } from '../../typings';\nimport { Status } from '../Status/Status';\nimport { EndpointCase } from './EndpointCase';\nimport { getGroupEntryKey, getCaseURL } from '../../util';\nimport Paragraph from 'antd/lib/typography/Paragraph';\n\nexport type Endpoint = {\n\tid: string;\n};\n\nexport function Endpoint({id}: Endpoint) {\n\tconst {\n\t\tstate: {\n\t\t\tgroups,\n\t\t\tprojects,\n\t\t\tactiveGroup,\n\t\t\tactiveGroupEntries,\n\t\t\tactiveEndpoint,\n\t\t\tfastEndpointIndex,\n\t\t},\n\t} = useAppStore();\n\tconst entry = React.useMemo(() => {\n\t\tlet result = null as GroupEntry | null;\n\t\t\n\t\tactiveGroupEntries.some(function find(entry) {\n\t\t\tif (getGroupEntryKey(entry) === id) {\n\t\t\t\tresult = entry;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn entry.entries.some(find);\n\t\t});\n\n\t\tif (!result && activeEndpoint) {\n\t\t\tresult = fastEndpointIndex[activeEndpoint] || null;\n\t\t}\n\n\t\treturn result;\n\t}, [activeGroupEntries, id]);\n\n\tif (!entry) {\n\t\treturn <Result status=\"error\" title={<>Ошибка: «<b>{id}</b>» — не найден</>} />;\n\t}\n\n\tconst group = groups[activeGroup!];\n\tif (!group) {\n\t\treturn <Result\n\t\t\tstatus=\"error\"\n\t\t\ttitle={<>Ошибка: «<b>{activeGroup || '<<undefined>>'}</b>» — группа не найдена</>}\n\t\t/>;\n\t}\n\n\tconst scheme = entry.scheme!;\n\tconst project = projects[scheme.project!];\n\n\treturn (\n\t\t<>\n\t\t\t<Breadcrumb style={{marginBottom: 20}}>\n\t\t\t\t<Breadcrumb.Item>{group.name}</Breadcrumb.Item>\n\t\t\t\t{project && <Breadcrumb.Item>{project.name}</Breadcrumb.Item>}\n\t\t\t\t<Breadcrumb.Item>{scheme.name}</Breadcrumb.Item>\n\t\t\t</Breadcrumb>\n\n\t\t\t{scheme.description && <Typography style={{fontSize: '120%'}}>\n\t\t\t\t<Paragraph>{scheme.description}</Paragraph>\n\t\t\t</Typography>}\n\n\t\t\t{scheme.cases.length > 1 && <ul>\n\t\t\t\t{scheme.cases.map((c, i) => (\n\t\t\t\t\t<li key={i}>\n\t\t\t\t\t\t<a href={getCaseURL(group, entry, c)}>{c.name}</a>&nbsp;\n\t\t\t\t\t\t<Status name={c.status} badge/> \n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>}\n\t\t\t\n\t\t\t<Space direction=\"vertical\" style={{width: '100%'}}>\n\t\t\t\t{scheme.cases.map((c, i) => (\n\t\t\t\t\t<EndpointCase\n\t\t\t\t\t\tkey={`${group.id}-${entry.name}-${c.name}-${i}`}\n\t\t\t\t\t\tgroup={group}\n\t\t\t\t\t\tentry={entry}\n\t\t\t\t\t\tvalue={c}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</Space>\n\t\t</>\n\t);\n}\n","import * as React from 'react';\nimport { Card, Result, Tree } from 'antd';\nimport { useAppStore } from '../../store/store';\nimport { fuzzyHL, getBaseURL, useNav } from '../../util';\n\nexport function EndpointAll() {\n\tconst {\n\t\tstate: {\n\t\t\tsearch,\n\t\t\tgroups,\n\t\t\tactiveGroup,\n\t\t\tactiveGroupEntries,\n\t\t},\n\t} = useAppStore();\n\tconst group = groups[activeGroup!]!;\n\tconst rootEntries = activeGroupEntries.flatMap(e => e.entries) || [];\n\t\n\tlet isEmpty = true;\n\tconst nodes = rootEntries.map(function render(e) {\n\t\tif (e.type === 'G') {\n\t\t\treturn (\n\t\t\t\t<Tree.TreeNode key={e.name} title={e.name}>\n\t\t\t\t\t{e.entries.map(render)}\n\t\t\t\t</Tree.TreeNode>\n\t\t\t);\n\t\t} else if (e.type === 'E') {\n\t\t\tconst name = fuzzyHL(e.name, search);\n\t\t\tconst descr = fuzzyHL(e.scheme!.name, search);\n\n\t\t\tif (name === null && descr === null) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tisEmpty = false;\n\n\t\t\treturn (\n\t\t\t\t<Tree.TreeNode\n\t\t\t\t\tkey={getBaseURL(group, e)}\n\t\t\t\t\ttitle={<>\n\t\t\t\t\t\t<a>{name || e.name}</a>\n\t\t\t\t\t\t<span> — {descr || e.scheme!.name}</span>\n\t\t\t\t\t</>}\n\t\t\t\t/>\n\t\t\t);\n\t\t} else {\n\t\t\tthrow `not supproted: ${e.type}`;\n\t\t}\n\t});\n\tconst nav = useNav();\n\tconst handleSelect = React.useCallback((keys: React.ReactText[]) => {\n\t\tnav(keys.join(''));\n\t}, []);\n\n\treturn (\n\t\t<Card title=\"Все методы\">\n\t\t\t{isEmpty\n\t\t\t\t? <Result\n\t\t\t\t\tstatus=\"info\"\n\t\t\t\t\ttitle={<>По запросу «<b>{search}</b>» ничего не найдено</>}\n\t\t\t\t/>\n\t\t\t\t: <Tree\n\t\t\t\t\tshowLine\n\t\t\t\t\tonSelect={handleSelect}\n\t\t\t\t\tdefaultExpandAll={true}\n\t\t\t\t>\n\t\t\t\t\t{nodes}\n\t\t\t\t</Tree>}\n\t\t</Card>\n\t);\n}\n","import * as React from 'react';\nimport { Layout } from 'antd';\nimport { Header } from './Header';\nimport { LeftMenu } from './LeftMenu';\nimport { Loading } from '../Loading/Loading';\nimport { Endpoint } from '../Endpoint/Endpoint';\nimport { EndpointAll } from '../Endpoint/EndpointAll';\nimport { useAppStore } from '../../store/store';\n\nexport function AppLayout() {\n\tconst {\n\t\tstate: {\n\t\t\tloading,\n\t\t\tsearch,\n\t\t\tactiveEndpoint,\n\t\t},\n\t} = useAppStore();\n\tlet content = loading ? <Loading/> : null;\n\n\tif (content === null) {\n\t\tcontent = !search && activeEndpoint\n\t\t\t? <Endpoint id={activeEndpoint}/>\n\t\t\t: <EndpointAll />\n\t\t;\n\t}\n\n\treturn (\n\t\t<Layout style={{height: '100%'}}>\n\t\t\t<Header/>\t\n\n\t\t\t<Layout>\n\t\t\t\t<Layout.Sider className=\"site-layout-background\">\n\t\t\t\t\t<LeftMenu/>\n\t\t\t\t</Layout.Sider>\n\n\t\t\t\t<Layout.Content\n\t\t\t\t\tkey={activeEndpoint || search}\n\t\t\t\t\tclassName=\"site-layout-background\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmargin: 20,\n\t\t\t\t\t\tminHeight: 280,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{content}\n\t\t\t\t</Layout.Content>\n\t\t\t</Layout>\n\t\t</Layout>\n\t);\n}\n","import * as React from 'react';\nimport { Result } from 'antd';\n\nimport { AppState, Config, GroupEntry, AppStore } from './typings';\n\nimport { AppLayout } from './ui/Layout/Layout';\nimport { parseHistoryParams, toMapById } from './util';\nimport { Store } from './store/store';\n\nexport type AppLoaderProps = {\n\tconfig?: Config;\n};\n\nconst groupEntryCache = {} as {\n\t[url:string]: GroupEntry | null;\n};\n\nexport function App({config}: AppLoaderProps) {\n\tconst state = React.useMemo((): AppState => {\n\t\tconst value: AppState = {\n\t\t\tloading: true,\n\t\t\t\n\t\t\tsearch: '',\n\t\t\tqueryString: '',\n\t\t\t\n\t\t\tactiveGroup: config?.active_group || null,\n\t\t\tactiveGroupEntries: [],\n\t\t\tactiveEndpoint: null,\n\t\t\t\n\t\t\tfastEndpointIndex: {},\n\n\t\t\tgroups: toMapById(config?.groups || []),\n\t\t\tprojects: toMapById(config?.projects || []),\n\t\t\taccessRights: toMapById(config?.rights || []),\n\t\t};\n\n\t\treturn {\n\t\t\t...value,\n\t\t\t...parseHistoryParams(value, true),\n\t\t};\n\t}, [config]);\n\n\tif (!config || !config.groups || !config.groups.length) {\n\t\tconsole.warn('Brocked state:', state);\n\t\treturn <Result status=\"error\" title=\"Broken config (no groups)\" />;\n\t}\n\n\treturn <AppReady state={state} />;\n}\n\nfunction AppReady(props: {state: AppState}) {\n\tconst [state, setState] = React.useState(props.state);\n\tconst store: AppStore = {\n\t\tstate,\n\t\tupdateState: React.useCallback(function () {\n\t\t\tif (arguments.length === 2) {\n\t\t\t\tsetState({\n\t\t\t\t\t...state,\n\t\t\t\t\t[arguments[0]]: arguments[1],\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsetState({\n\t\t\t\t\t...state,\n\t\t\t\t\t...Object(arguments[0]),\n\t\t\t\t});\n\t\t\t}\n\t\t}, [state]),\n\t};\n\n\tuseHistory(state);\n\tuseHashChange(() => {\n\t\tsetState({\n\t\t\t...state,\n\t\t\t...parseHistoryParams(state),\n\t\t});\n\t}, [state]);\n\tuseGroupEntryAutoload(store);\n\tuseAutoScroll(state.loading);\n\t\n\treturn (\n\t\t<Store.Provider value={store}>\n\t\t\t<AppLayout/>\n\t\t</Store.Provider>\n\t);\n}\n\nfunction useHistory(state: AppState) {\n\tReact.useEffect(() => {\n\t\tconst {\n\t\t\tgroups,\n\t\t\tactiveGroup,\n\t\t\tactiveEndpoint,\n\t\t\tqueryString,\n\t\t\tsearch,\n\t\t} = state\n\n\t\tconst pid = setTimeout(() => {\n\t\t\tlet hash = activeGroup || '';\n\t\t\tlet title = groups[activeGroup!]?.name\n\t\t\t\n\t\t\tif (activeEndpoint) {\n\t\t\t\thash += `:${activeEndpoint}`;\n\t\t\t\ttitle += activeEndpoint;\n\t\t\t}\n\n\t\t\tif (search) {\n\t\t\t\thash += `?search=${search}`;\n\t\t\t} else if (queryString && !queryString.includes('search=')) {\n\t\t\t\thash += `?${queryString}`;\n\t\t\t}\n\t\t\t\n\t\t\twindow.location.hash = hash;\n\t\t\tif (title) {\n\t\t\t\twindow.document.title = title!;\n\t\t\t}\n\t\t}, 250);\n\t\treturn () => {\n\t\t\tclearTimeout(pid);\n\t\t};\n\t}, [window.location.hash, state]);\n\n}\n\nfunction useHashChange(handle: () => void, deps: any[]) {\n\tReact.useEffect(() => {\n\t\twindow.addEventListener('hashchange', handle);\n\t\treturn () => {\n\t\t\twindow.removeEventListener('hashchange', handle);\n\t\t};\n\t}, deps);\n}\n\nfunction useAutoScroll(loading: boolean) {\n\tconst firstScroll = React.useRef(true);\n\t\n\tReact.useEffect(() => {\n\t\tif (loading) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst elem = document.querySelector(`[id=\"${decodeURIComponent(window.location.hash)}\"]`);\n\t\t\n\t\trequestAnimationFrame(() => {\n\t\t\telem && elem.scrollIntoView({behavior: firstScroll.current ? 'auto' : 'smooth'});\n\t\t\tfirstScroll.current = false;\n\t\t});\n\t}, [loading, window.location.hash]);\n}\n\nfunction useGroupEntryAutoload({state, updateState}: AppStore) {\n\tconst [rev, setRev] = React.useState(0);\n\tconst forceUpdate = React.useCallback(() => { setRev(rev + 1); }, [rev]);\n\tconst group = state.groups[state.activeGroup!];\n\n\tif (!group) {\n\t\treturn;\n\t}\n\n\tlet loading = false;\n\tconst entries = group.entries.map((entry) => {\n\t\tconst cache = groupEntryCache[entry];\n\t\t\n\t\tif (cache === void 0) {\n\t\t\tloading = true;\n\t\t\tgroupEntryCache[entry] = null;\n\t\t\tfetch(entry).then(r => r.json()).then((group: GroupEntry) => {\n\t\t\t\tgroupEntryCache[entry] = group;\n\t\t\t\t\n\t\t\t\tgroup.entries.forEach(function next(entry) {\n\t\t\t\t\tif (entry.type === 'E') {\n\t\t\t\t\t\tstate.fastEndpointIndex[entry.name] = entry;\n\t\t\t\t\t} else if (entry.type === 'G') {\n\t\t\t\t\t\tentry.entries.forEach(next);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tforceUpdate();\n\t\t\t});\n\t\t} else if (cache === null) {\n\t\t\tloading = true;\n\t\t}\n\t\t\n\t\treturn cache!;\n\t});\n\n\tif (loading !== state.loading) {\n\t\tif (loading) {\n\t\t\tupdateState({ loading: true });\n\t\t} else {\n\t\t\tupdateState({\n\t\t\t\tloading: false,\n\t\t\t\tactiveGroupEntries: entries,\n\t\t\t});\n\t\t}\n\t}\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as React from 'react';\nimport { render } from 'react-dom';\nimport { App }  from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'antd/dist/antd.css';\n\nrender(\n\t<App config={Object((globalThis as any).GODRAFT_CONFIG)} />,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}